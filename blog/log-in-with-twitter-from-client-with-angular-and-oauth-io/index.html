<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta name="author" content="Connor Leech"><title>Client Side Twitter Login with Angular 1.x and OAuth.io</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="cleartype" content="on"><meta name="MobileOptimized" content="320"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="description" content="Implements a Twitter social login feature using OAuth.io service provider and Angular.js 1.x"><meta name="keywords" content="laravel, aws, javascript, php, developer, software engineer, web development, software, node.js, serverless, lambda, san francisco, bay area, east bay, vue, vuejs, vue.js, vue 2, laravel 5, amazon web services"><meta name="zipcode" content="94501"><meta name="city" content="Alameda"><meta name="state" content="California"><meta name="country" content="United States"><meta name="language" content="EN"><meta property="og:site_name" content="Connor Leech Blog | Javascript and Laravel tutorials"><meta property="og:description" content="Get notified about the latest trends in web development, career growth and cloud infrastructure. I send emails about twice a month covering tutorials in Javascript, Laravel and Cloud"><meta property="og:image" content="http://i0.kym-cdn.com/photos/images/original/001/018/899/936.jpg"><meta property="og:title" content="Client Side Twitter Login with Angular 1.x and OAuth.io"><meta property="og:description" content="Implements a Twitter social login feature using OAuth.io service provider and Angular.js 1.x"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70809574-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-70809574-1');
</script><!-- Favicon--><link rel="shortcut icon" type="image/png" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><!-- Vendor Fonts--><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="/bower_components/animate.css/animate.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Yantramanav" rel="stylesheet"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries--><!-- WARNING: Respond.js doesn't work if you view the page via file://--><!--if lt IE 9script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
--><link rel="alternate" href="/atom.xml" title="config.title" type="application/rss2.xml"><link rel="stylesheet" href="/css/main.css"></head><body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" class="post"><!-- Nav--><nav role="navigation" class="navbar navbar-custom navbar-fixed-top"><div class="container"><div class="navbar-header"><a href="/" class="navbar-brand"><img src="/images/employbl_logo.svg" style="height:100px; width:100px;"></a><button type="button" data-toggle="collapse" data-target=".navbar-main-collapse" class="navbar-toggle"><i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse navbar-left navbar-main-collapse"></div><div class="collapse navbar-collapse navbar-right navbar-main-collapse"><ul class="nav navbar-nav"><li><a href="/blog" class="page-scroll">Blog üî®</a></li><li><a href="/#about" class="page-scroll">About ‚ö°</a></li><li><a href="https://leanpub.com/badass-web-development-with-laravel-5" target="_blank" class="page-scroll">Book üìñ</a></li></ul></div></div></nav><main id="content"><div id="archive" class="container"><div class="row"> <div class="col-sm-2 col-md-2"><h3>Categories</h3><a href="/blog"><p>All</p></a><a href="/categories/Career"><p>Career</p></a><a href="/categories/Programming"><p>Programming</p></a><a href="/categories/Javascript"><p>Javascript</p></a><a href="/categories/Laravel"><p>Laravel</p></a><a href="/categories/Cloud"><p>Cloud</p></a><a href="/categories/PHP"><p>PHP</p></a></div><div class="col-xs-12 col-md-8"><article class="post"><div class="row"><div class="col-md-10 col-md-offset-1"><h1 class="post-title">Client Side Twitter Login with Angular 1.x and OAuth.io</h1></div></div><div class="row"><div class="post-meta"><h5><span>Connor Leech</span><span class="date"> - Oct 23, 2015&ensp;in<span class="post-categories">&ensp;<a href="/categories/Javascript/" class="post-category">Javascript</a></span></span></h5><a target="_blank" href="http://twitter.com/intent/tweet?status=Client Side Twitter Login with Angular 1.x and OAuth.io by @Connor11528+http://connorleech.info/blog/log-in-with-twitter-from-client-with-angular-and-oauth-io/" class="btn btn-primary social-share twitter"><i class="fa fa-twitter fa-2x"><span class="hidden-xs"></span></i></a><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://connorleech.info/blog/log-in-with-twitter-from-client-with-angular-and-oauth-io/&amp;title=Client Side Twitter Login with Angular 1.x and OAuth.io&amp;source=connorleech.info" class="btn btn-primary social-share linkedin"><i class="fa fa-linkedin fa-2x"><span class="hidden-xs"></span></i></a></div></div><div class="post-body"><p>Authentication using the OAuth.io service on the client side</p>
<p>First off thank you to Preetish Panda for his tutorial on oauth.io. You can find that tutorial <a href="http://www.sitepoint.com/building-twitter-app-using-angularjs" target="_blank" rel="external">here</a>.</p>
<p>===============</p>
<p><a href="https://github.com/connor11528/oauthio-example" target="_blank" rel="external">SOURCE CODE</a> for this tutorial.</p>
<p><a href="http://connorleech.info/oauthio-example/#/">DEMO</a> of async twitter authentication</p>
<h3 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h3><p>Create a static bare-bones angular app. There is an angular.js starter app <a href="https://github.com/connor11528/angular-starter" target="_blank" rel="external">here</a>.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> git@github.com:connor11528/angular-starter.git</span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> angular-starter</span></div><div class="line"><span class="meta">$</span><span class="bash"> python -m SimpleHTTPServer</span></div></pre></td></tr></table></figure>
<p>If you‚Äôre using git and want to push this to your own repo add it as a remote:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> git remote rm origin</span></div><div class="line"><span class="meta">$</span><span class="bash"> git remote add origin &lt;your_remote_url&gt;</span></div><div class="line"><span class="meta">$</span><span class="bash"> git push origin master</span></div></pre></td></tr></table></figure>
<h3 id="Create-an-app-with-twitter"><a href="#Create-an-app-with-twitter" class="headerlink" title="Create an app with twitter"></a>Create an app with twitter</h3><p>We are going to use twitter to handle our authentication. That means ‚ÄúLog in with twitter‚Äù. In order to do that we need to register an application with the good folks at twitter.</p>
<p>Go here: <a href="https://apps.twitter.com/app/new" target="_blank" rel="external">https://apps.twitter.com/app/new</a></p>
<p><img src="/content/images/2015/05/Screen-Shot-2015-05-31-at-11-51-59-AM.png" alt=""></p>
<p>For the record you also need to have a mobile phone associated with your twitter profile before you can create an application. Go to settings/mobile to add one. <a href="https://oauth.io/auth" target="_blank" rel="external">https://oauth.io/auth</a> is our Callback URL. For the website URL I am using my custome domain hosted by <a href="https://pages.github.com/" target="_blank" rel="external">Github Pages</a>. It is free with your github account and is a good tool and way to showcase your work.</p>
<p><img src="http://media.giphy.com/media/pzmTB7cwkfx0Q/giphy.gif" alt=""></p>
<h3 id="Create-auth-io-account"><a href="#Create-auth-io-account" class="headerlink" title="Create auth.io account"></a>Create auth.io account</h3><p><a href="http://oauth.net/" target="_blank" rel="external">OAuth</a> is an open protocol for authorization across applications. <a href="https://oauth.io/home" target="_blank" rel="external">OAuth.io</a> is a company that makes using the OAuth protocol mad simple. The two are different. We can make 2000 API calls per month for free using oauth.io. If we make 20,000 API calls per month using oauth.io it costs $20.</p>
<p>To use oauth.io to handle authentication create an account with them: <a href="https://oauth.io/signup" target="_blank" rel="external">https://oauth.io/signup</a></p>
<p>On the dashboard click ‚ÄúIntegrated APIs‚Äù and add the twitter app‚Äôs credentials. The first one is ‚ÄúConsumer Key (API Key)‚Äù and the next field is ‚ÄúConsumer Secret (API Secret)‚Äù which both come from the ‚ÄúKeys and Access Tokens‚Äù panel on your twitter app registration page.</p>
<p><img src="/content/images/2015/05/Screen-Shot-2015-05-31-at-12-20-58-PM.png" alt=""></p>
<p>Save changes and you should be able to successfully ‚ÄúTry Auth‚Äù.</p>
<h3 id="Enough-setup-let‚Äôs-code"><a href="#Enough-setup-let‚Äôs-code" class="headerlink" title="Enough setup, let‚Äôs code"></a>Enough setup, let‚Äôs code</h3><p>We‚Äôre going to use the oath.js library. Download it from their <a href="https://github.com/oauth-io/oauth-js/blob/master/dist/oauth.js" target="_blank" rel="external">github repo</a> and then link to the script:</p>
<p><code>&lt;script src=&#39;js/lib/oauth.js&#39;&gt;&lt;/script&gt;</code></p>
<p>After we initialize our main angular app in <code>js/app.js</code> add a constant with your oauth.io <strong>Public Key</strong>.</p>
<p>We‚Äôre also gunna define routes using <a href="https://github.com/angular-ui/ui-router" target="_blank" rel="external">ui-router</a>:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'angular-starter'</span>, [</div><div class="line">	<span class="string">'ui.router'</span></div><div class="line">]);</div><div class="line"></div><div class="line">app.constant(<span class="string">'OAUTH_PUBLIC_KEY'</span>, <span class="string">'p2edLIP-Hu5-VvhkJN1T_Ncba0M'</span>);</div><div class="line"></div><div class="line">app.config(<span class="function"><span class="keyword">function</span><span class="params">($stateProvider, $urlRouterProvider)</span></span>&#123;</div><div class="line"></div><div class="line">	$urlRouterProvider.otherwise(<span class="string">"/"</span>);</div><div class="line"></div><div class="line">	$stateProvider</div><div class="line">	    .state(<span class="string">'home'</span>, &#123;</div><div class="line">	      url: <span class="string">"/"</span>,</div><div class="line">	      templateUrl: <span class="string">"templates/main.html"</span>,</div><div class="line">	      controller: <span class="string">'MainCtrl'</span></div><div class="line">	    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Then we‚Äôll define the template. It is a simple navbar with sign in, hello message and log out buttons. We show them conditionally based on a <code>$rootScope</code> value we‚Äôll get to in a second. ng-if hides or shows based on if <code>$scope.currentUser</code> is true or false.</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'row'</span>&gt;</span></span></div><div class="line">	<span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-default"</span> <span class="attr">role</span>=<span class="string">"navigation"</span>&gt;</span></div><div class="line">	   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></div><div class="line">	      <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>oauth.io-example<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">	   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	   <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">	      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav navbar-nav pull-right"</span>&gt;</span></div><div class="line">	        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">	        	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">ng-if</span>=<span class="string">'!currentUser'</span> <span class="attr">ng-click</span>=<span class="string">"signIn()"</span>&gt;</span>Sign in with twitter<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">	        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">	    		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">ng-if</span>=<span class="string">'currentUser'</span>&gt;</span>Hello <span class="template-variable">&#123;&#123;currentUser.name&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></div><div class="line">	    	<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	    	<span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">	    		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> <span class="attr">ng-if</span>=<span class="string">'currentUser'</span> <span class="attr">ng-click</span>=<span class="string">"signOut()"</span> <span class="attr">id</span>=<span class="string">"signOut"</span>&gt;</span>Sign Out<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">	    	<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">	      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">	   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'row'</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">pre</span></span><span class="template-variable">&#123;&#123; currentUser | json &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="attr">pre</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Next we‚Äôll setup MainCtrl:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">app.controller(<span class="string">'MainCtrl'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope, oauth)</span></span>&#123;</div><div class="line">	$scope.user = &#123;&#125;;</div><div class="line"></div><div class="line">	<span class="comment">//when the user clicks the connect twitter button, the popup authorization window opens</span></div><div class="line">    $scope.signIn = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">        oauth.connectTwitter();</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">//sign out clears the OAuth cache, the user will have to reauthenticate when returning</span></div><div class="line">    $scope.signOut = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">        oauth.clearCache();</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">//if the user is a returning user, hide the sign in button and display the tweets</span></div><div class="line">    <span class="keyword">if</span> (oauth.isReady()) &#123;</div><div class="line">    	<span class="comment">// gets data and updates $rootScope</span></div><div class="line">        oauth.getUserData();</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>All of the work will really be happening in our oauth service.</p>
<h3 id="oauth-service"><a href="#oauth-service" class="headerlink" title="oauth service"></a>oauth service</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">app.service(<span class="string">'oauth'</span>, <span class="function"><span class="keyword">function</span><span class="params">(OAUTH_PUBLIC_KEY, $q, $http, $rootScope)</span></span>&#123;</div><div class="line">	<span class="keyword">var</span> authorizationResult = <span class="keyword">false</span>;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        initialize: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">            $rootScope.currentUser = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">            <span class="comment">//initialize OAuth.io with public key of the application</span></div><div class="line">            OAuth.initialize(OAUTH_PUBLIC_KEY, &#123;</div><div class="line">                cache: <span class="keyword">true</span></div><div class="line">            &#125;);</div><div class="line">            <span class="comment">//try to create an authorization result when the page loads,</span></div><div class="line">            <span class="comment">// this means a returning user won't have to click the twitter button again</span></div><div class="line">            authorizationResult = OAuth.create(<span class="string">"twitter"</span>);</div><div class="line">        &#125;,</div><div class="line">        isReady: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> (authorizationResult);</div><div class="line">        &#125;,</div><div class="line">        connectTwitter: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">var</span> deferred = $q.defer();</div><div class="line">            <span class="keyword">var</span> <span class="keyword">self</span> = this;</div><div class="line"></div><div class="line">            OAuth.popup(<span class="string">"twitter"</span>, &#123;</div><div class="line">                cache: <span class="keyword">true</span></div><div class="line">            &#125;, <span class="function"><span class="keyword">function</span><span class="params">(error, result)</span> </span>&#123;</div><div class="line">                <span class="keyword">if</span> (!error) &#123;</div><div class="line">                    <span class="comment">// update token</span></div><div class="line">                    authorizationResult = result;</div><div class="line"></div><div class="line">                    <span class="comment">// get data from twitter</span></div><div class="line">                    <span class="keyword">self</span>.getUserData();</div><div class="line">                    deferred.resolve();</div><div class="line">                    </div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// shit shit fire ze missiles</span></div><div class="line">                    deferred.reject();</div><div class="line">                    console.error(<span class="string">'could not connect to twitter'</span>);</div><div class="line">                    $rootScope.currentUser = <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            <span class="keyword">return</span> deferred.promise;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        getUserData: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">            <span class="keyword">var</span> oauth_token = this.isReady();</div><div class="line">            <span class="keyword">if</span>(oauth_token)&#123;</div><div class="line">                <span class="comment">// get user's data from token</span></div><div class="line">                oauth_token.me().done(<span class="function"><span class="keyword">function</span><span class="params">(currentUser)</span></span>&#123;</div><div class="line">                    $rootScope.currentUser = currentUser;</div><div class="line"></div><div class="line">                    <span class="comment">// run the digest cycle to update scope with the </span></div><div class="line">                    <span class="comment">// data we got from .me() oauth.io method</span></div><div class="line">                    $rootScope.$apply();</div><div class="line">                &#125;);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                console.error(<span class="string">'Cannot get user data. No one is logged in!'</span>);</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        clearCache: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="comment">// log them out and clear the scope</span></div><div class="line">            OAuth.clearCache(<span class="string">'twitter'</span>);</div><div class="line">            $rootScope.currentUser = <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><img src="http://media.giphy.com/media/HZCVwHeM5UIrS/giphy.gif" alt=""></p>
<p>In the <code>getUserData</code> function I get the logged in user‚Äôs information via <a href="http://docs.oauth.io/?Javascript#user-data-api" target="_blank" rel="external">.me()</a> otherwise their info is only the token. We update the $rootScope and then have to run the digest cycle again with $apply() to let angular know about the changes. </p>
<p>This is not perfect. The client could change the value of <code>$rootScope</code> and nothing would really be hidden. This does not really secure our app but it does get data from twitter for us. oauth.io has hundreds of services that we could get information from. Log in to the dashboard, click ‚ÄúIntegrated APIs‚Äù then ‚ÄúAdd APIs‚Äù and type any provider you can think of. If we wanted to associate our own data with a user‚Äôs account we would need our own database and server, or we could use <a href="https://www.firebase.com/" target="_blank" rel="external">firebase</a></p>
<p>Here is the completed <a href="http://connorlee.ch/oauthio-example/#/" target="_blank" rel="external">DEMO</a>. </p>
<p>Add your github url (<code>&lt;username&gt;.github.io</code>) to ‚ÄúDomains &amp; URLs whitelist‚Äù on the oauth.io dashboard homepage and you can have a live site also.</p>
<p>final <a href="https://github.com/connor11528/oauthio-example" target="_blank" rel="external">SOURCE CODE</a>. Give it a star!</p>
<iframe src="https://ghbtns.com/github-btn.html?user=connor11528&repo=oauthio-example&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>

<p><img src="http://media3.giphy.com/media/14up2cTMOGbXPO/giphy.gif" alt=""></p>
</div><div id="disqus_thread"></div></article><nav class="pagination"><a href="/blog/Oh-hurrow-Koa-js/" title="Oh hurrow Koa.js" class="btn-default entry-pagination__link entry-pagination__link--prev">Prev</a><a href="/blog/Build-push-notifications-into-an-ionic-app/" title="Build push notifications into an Ionic 1.x app" class="btn-default entry-pagination__link entry-pagination__link--next">Next</a></nav></div></div></div></main><footer class="footer"><div class="container"><div class="row"><div class="col-sm-6"><h4>Connor11528 dev newsletter</h4><ul><li><form action="//herokuapp.us14.list-manage.com/subscribe/post?u=42dd73a709fbadb4a29ef1d0d&amp;amp;id=b77fdad58d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate class="validate"><div class="input-group"><input type="email" value="" name="EMAIL" id="mce-EMAIL" placeholder="Enter your email here" class="required email form-control input-lg"><div id="mce-error-response" style="display:none" class="response"></div><div id="mce-success-response" style="display:none" class="response"></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_42dd73a709fbadb4a29ef1d0d_b77fdad58d" tabindex="-1" value=""></div><span class="input-group-btn"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary btn-lg"></span></div></form></li></ul></div><div class="col-sm-2 col-sm-offset-1"><h4>Connect</h4><ul><li> <a target="_blank" href="https://github.com/connor11528">GitHub</a></li><li> <a target="_blank" href="https://www.linkedin.com/in/connorleech">LinkedIn</a></li><li> <a target="_blank" href="https://twitter.com/connor11528">Twitter</a></li><li><a target="_blank" href="https://medium.com/@connorleech">Medium</a></li><li><a target="_blank" href="https://stackoverflow.com/users/2031033/connor-leech">Stackoverflow</a></li><li><a target="_blank" href="https://plus.google.com/u/0/+ConnorLeech">Google+</a></li></ul></div><div class="col-sm-3"><h4>Email</h4><ul><li> <a href="mailto:connorleech@gmail.com">connorleech@gmail.com</a></li></ul></div></div></div></footer><!-- vendor--><script src="/bower_components/jquery/dist/jquery.min.js"></script><script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script><script src="/bower_components/wow/dist/wow.min.js"></script><script src="/bower_components/jquery-easing/jquery.easing.min.js"></script><script src="/bower_components/jquery-color/jquery.color.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/ScrollMagic.min.js"></script><script src="/bower_components/scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script><script src="/bower_components/vivus/dist/vivus.min.js"></script><!-- require modules--><script src="/js/require.js"></script><script src="/js/app.js"></script><!-- analytics--><!-- disqus--><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://connorleech.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></body></html>